{"remainingRequest":"/Users/robertgray/sandbox/price-recommender/client-app/node_modules/babel-loader/lib/index.js!/Users/robertgray/sandbox/price-recommender/client-app/src/APIService.js","dependencies":[{"path":"/Users/robertgray/sandbox/price-recommender/client-app/src/APIService.js","mtime":1540496559622},{"path":"/Users/robertgray/sandbox/price-recommender/client-app/node_modules/cache-loader/dist/cjs.js","mtime":1539889924615},{"path":"/Users/robertgray/sandbox/price-recommender/client-app/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.object.assign\";\nimport _classCallCheck from \"/Users/robertgray/sandbox/price-recommender/client-app/node_modules/@babel/runtime/helpers/builtin/es6/classCallCheck\";\nimport _createClass from \"/Users/robertgray/sandbox/price-recommender/client-app/node_modules/@babel/runtime/helpers/builtin/es6/createClass\";\nimport axios from 'axios';\nvar API_URL = 'http://localhost:8000';\nexport var APIService =\n/*#__PURE__*/\nfunction () {\n  function APIService() {\n    _classCallCheck(this, APIService);\n  } //empty constructor\n  // Get request to test API TODO: Write UNIT test\n  //qs = query string to be passed in\n\n\n  _createClass(APIService, [{\n    key: \"predictPrice\",\n    value: function predictPrice(qs) {\n      var url = \"\".concat(API_URL, \"/predict/price?\").concat(qs);\n      return axios.get(url).then(function (response) {\n        return response.data;\n      });\n    }\n  }, {\n    key: \"trainModel\",\n    value: function trainModel(qs) {\n      var url = \"\".concat(API_URL, \"/train/model?\").concat(qs);\n      return axios.get(url).then(function (response) {\n        return response.data;\n      });\n    }\n  }, {\n    key: \"uploadFile\",\n    value: function uploadFile(formData) {\n      var url = \"\".concat(API_URL, \"/upload/file\");\n      return axios.post(url, formData) // get data\n      .then(function (x) {\n        return x.data;\n      }) // add url field\n      .then(function (x) {\n        return x.map(function (file) {\n          return Object.assign({}, file, {\n            url: \"\".concat(API_URL, \"/upload/csv/\").concat(file.id)\n          });\n        });\n      });\n    }\n  }]);\n\n  return APIService;\n}();",{"version":3,"sources":["/Users/robertgray/sandbox/price-recommender/client-app/src/APIService.js"],"names":["axios","API_URL","APIService","qs","url","get","then","response","data","formData","post","x","map","Object","assign","file","id"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,IAAMC,UAAU,uBAAhB;AACA,WAAaC,UAAb;AAAA;AAAA;AAEI,wBAAa;AAAA;AAEZ,GAFD,CACI;AAGJ;AACA;;;AAPJ;AAAA;AAAA,iCAQiBC,EARjB,EAQqB;AACb,UAAMC,gBAASH,OAAT,4BAAkCE,EAAlC,CAAN;AACA,aAAOH,MAAMK,GAAN,CAAUD,GAAV,EAAeE,IAAf,CAAoB;AAAA,eAAYC,SAASC,IAArB;AAAA,OAApB,CAAP;AACH;AAXL;AAAA;AAAA,+BAaeL,EAbf,EAamB;AACX,UAAMC,gBAASH,OAAT,0BAAgCE,EAAhC,CAAN;AACA,aAAOH,MAAMK,GAAN,CAAUD,GAAV,EAAeE,IAAf,CAAoB;AAAA,eAAYC,SAASC,IAArB;AAAA,OAApB,CAAP;AACH;AAhBL;AAAA;AAAA,+BAkBeC,QAlBf,EAkByB;AACjB,UAAML,gBAASH,OAAT,iBAAN;AACA,aAAOD,MAAMU,IAAN,CAAWN,GAAX,EAAgBK,QAAhB,EACP;AADO,OAENH,IAFM,CAED;AAAA,eAAKK,EAAEH,IAAP;AAAA,OAFC,EAGP;AAHO,OAINF,IAJM,CAID;AAAA,eAAKK,EAAEC,GAAF,CAAM;AAAA,iBAAQC,OAAOC,MAAP,CAAc,EAAd,EACrBC,IADqB,EACf;AAAEX,2BAAQH,OAAR,yBAA8Bc,KAAKC,EAAnC;AAAF,WADe,CAAR;AAAA,SAAN,CAAL;AAAA,OAJC,CAAP;AAMH;AA1BL;;AAAA;AAAA","sourcesContent":["import axios from 'axios'\nconst API_URL = 'http://localhost:8000'\nexport class APIService{\n\n    constructor(){\n        //empty constructor\n    }\n\n    // Get request to test API TODO: Write UNIT test\n    //qs = query string to be passed in\n    predictPrice(qs) {\n        const url = `${API_URL}/predict/price?${qs}`;\n        return axios.get(url).then(response => response.data);\n    }\n\n    trainModel(qs) {\n        const url = `${API_URL}/train/model?${qs}`;\n        return axios.get(url).then(response => response.data);\n    }\n\n    uploadFile(formData) {\n        const url = `${API_URL}/upload/file`;\n        return axios.post(url, formData)\n        // get data\n        .then(x => x.data)\n        // add url field\n        .then(x => x.map(file => Object.assign({},\n            file, { url: `${API_URL}/upload/csv/${file.id}` })));\n    }\n\n}\n\n\n\n"]}]}